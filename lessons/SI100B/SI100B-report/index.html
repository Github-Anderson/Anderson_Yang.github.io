
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Anderson_Yang 的个人网站">
      
      
        <meta name="author" content="Anderson_Yang">
      
      
        <link rel="canonical" href="https://Github-Anderson.github.io/lessons/SI100B/SI100B-report/">
      
      
        <link rel="prev" href="../../">
      
      
        <link rel="next" href="../fb/">
      
      
      <link rel="icon" href="../../../assets/icon/terminal-16">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.24">
    
    
      
        <title>SI100B-Report - Anderson_Yang 的个人网站</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.css">
    
      <link rel="stylesheet" href="../../../mkdocs/css/unordered-list-symbols.css">
    
      <link rel="stylesheet" href="../../../mkdocs/css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#si100b-report" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="Anderson_Yang 的个人网站" class="md-header__button md-logo" aria-label="Anderson_Yang 的个人网站" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 2.75C0 1.784.784 1 1.75 1h12.5c.966 0 1.75.784 1.75 1.75v10.5A1.75 1.75 0 0 1 14.25 15H1.75A1.75 1.75 0 0 1 0 13.25Zm1.75-.25a.25.25 0 0 0-.25.25v10.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V2.75a.25.25 0 0 0-.25-.25ZM7.25 8a.749.749 0 0 1-.22.53l-2.25 2.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L5.44 8 3.72 6.28a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l2.25 2.25c.141.14.22.331.22.53Zm1.5 1.5h3a.75.75 0 0 1 0 1.5h-3a.75.75 0 0 1 0-1.5Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Anderson_Yang 的个人网站
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              SI100B-Report
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="切换至日间模式"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="切换至日间模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8v2m9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.71-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="dsefault" data-md-color-primary="white" data-md-color-accent="blue"  aria-label="切换至暗黑模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换至暗黑模式" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="切换至系统默认"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="切换至系统默认" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Github-Anderson/Github-Anderson.github.io" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    Github-Anderson.github.io
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../blog/" class="md-tabs__link">
          
  
    
  
  博客

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
    
  
  课程

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../essay/" class="md-tabs__link">
          
  
    
  
  随笔

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../about/" class="md-tabs__link">
          
  
    
  
  关于

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Anderson_Yang 的个人网站" class="md-nav__button md-logo" aria-label="Anderson_Yang 的个人网站" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 2.75C0 1.784.784 1 1.75 1h12.5c.966 0 1.75.784 1.75 1.75v10.5A1.75 1.75 0 0 1 14.25 15H1.75A1.75 1.75 0 0 1 0 13.25Zm1.75-.25a.25.25 0 0 0-.25.25v10.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V2.75a.25.25 0 0 0-.25-.25ZM7.25 8a.749.749 0 0 1-.22.53l-2.25 2.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L5.44 8 3.72 6.28a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l2.25 2.25c.141.14.22.331.22.53Zm1.5 1.5h3a.75.75 0 0 1 0 1.5h-3a.75.75 0 0 1 0-1.5Z"/></svg>

    </a>
    Anderson_Yang 的个人网站
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Github-Anderson/Github-Anderson.github.io" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    Github-Anderson.github.io
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../blog/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    博客
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            博客
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_2" >
        
          
          <label class="md-nav__link" for="__nav_1_2" id="__nav_1_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Visual Studio Code
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_2">
            <span class="md-nav__icon md-icon"></span>
            Visual Studio Code
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../blog/code/env/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    环境变量
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../blog/code/tips/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    一些小技巧
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_3" >
        
          
          <label class="md-nav__link" for="__nav_1_3" id="__nav_1_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    MarkDown
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_3">
            <span class="md-nav__icon md-icon"></span>
            MarkDown
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../blog/md/markdown/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    语法速记
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_4" >
        
          
          <label class="md-nav__link" for="__nav_1_4" id="__nav_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Material for MkDocs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_4">
            <span class="md-nav__icon md-icon"></span>
            Material for MkDocs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../blog/mkdocs/first/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    使用 Material for MkDocs 建立你的个人网站
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../blog/mkdocs/extra/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    一些小细节
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_5" >
        
          
          <label class="md-nav__link" for="__nav_1_5" id="__nav_1_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    游戏
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5">
            <span class="md-nav__icon md-icon"></span>
            游戏
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../blog/games/cs2onmac/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    在 macOS 上畅玩 CS2
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    课程
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            课程
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    信息科技导论 SI100B
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            信息科技导论 SI100B
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    SI100B-Report
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    SI100B-Report
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#team-members-and-division-of-work" class="md-nav__link">
    <span class="md-ellipsis">
      Team members and Division of Work
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#text" class="md-nav__link">
    <span class="md-ellipsis">
      Text
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Text">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#main-content-of-the-project" class="md-nav__link">
    <span class="md-ellipsis">
      Main Content of the Project
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Main Content of the Project">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#part-1-some-preparations" class="md-nav__link">
    <span class="md-ellipsis">
      Part 1: Some Preparations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#part-2-the-establishment-of-the-training-set" class="md-nav__link">
    <span class="md-ellipsis">
      Part 2: The Establishment of the Training Set
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#part-3-detecting-the-numbers" class="md-nav__link">
    <span class="md-ellipsis">
      Part 3: Detecting the Numbers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#part-4-detecting-multiple-line" class="md-nav__link">
    <span class="md-ellipsis">
      Part 4: Detecting Multiple Line
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#part-5-improving-accuracy" class="md-nav__link">
    <span class="md-ellipsis">
      Part 5: Improving Accuracy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#part-6-building-the-circuit" class="md-nav__link">
    <span class="md-ellipsis">
      Part 6: Building the Circuit
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#presentation-result-of-the-project" class="md-nav__link">
    <span class="md-ellipsis">
      Presentation &amp; Result of the Project
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#problems-encountered-and-solutions" class="md-nav__link">
    <span class="md-ellipsis">
      Problems Encountered and Solutions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Problems Encountered and Solutions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#problem-1-recognition-rate" class="md-nav__link">
    <span class="md-ellipsis">
      Problem 1: Recognition rate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#problem-2-camera-initialization" class="md-nav__link">
    <span class="md-ellipsis">
      Problem 2: Camera initialization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#problem-3-camera-preview" class="md-nav__link">
    <span class="md-ellipsis">
      Problem 3: Camera preview
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thoughts-and-inspirations" class="md-nav__link">
    <span class="md-ellipsis">
      Thoughts and Inspirations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#credits" class="md-nav__link">
    <span class="md-ellipsis">
      Credits
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    一些本来想写在 CourseBench 上的话
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    数学分析 GEMA1009 & 10
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            数学分析 GEMA1009 & 10
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GEMA10XX/links/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    一些有用的链接
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GEMA10XX/int/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    常用积分表
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GEMA10XX/int-application/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    积分的运用
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GEMA10XX/ode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ODE
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GEMA10XX/iint/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    多元微积分
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GEMA10XX/oint/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    曲线和曲面积分
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GEMA10XX/fourier/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fourier 分析
  </span>
  
    
  
  
    <span class="md-status md-status--new"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    线性代数 MATH1112
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            线性代数 MATH1112
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../MATH1112/links/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    一些有用的链接
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../MATH1112/ele/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    知识点总结
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    设计思维 ARTS1701
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            设计思维 ARTS1701
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ARTS1701/main/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DESIGN THINKING
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    离散数学 SI120
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            离散数学 SI120
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SI120/links/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    一些有用的链接
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SI120/code/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    代码实现
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SI120/chsh/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cheatsheet
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_7" >
        
          
          <label class="md-nav__link" for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    中华文明通论 GEHA1050
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            中华文明通论 GEHA1050
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GEHA1050/notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    课堂笔记
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../essay/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    随笔
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            随笔
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    文章
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            文章
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../essay/thoughts/230828-from-mac-to-mac/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    从 Mac 到 Mac
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../essay/thoughts/231002-refl-online/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    关于网上舆论的一些思考
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    记录
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            记录
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../essay/logs/240127/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    想法 - 20240127
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../essay/logs/240206/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    想法 - 20240207
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../essay/logs/240303/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    想法 - 20240303
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../essay/logs/240420/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    想法 - 20240420
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../about/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    关于
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            关于
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../about/contact/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    联系方式
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#team-members-and-division-of-work" class="md-nav__link">
    <span class="md-ellipsis">
      Team members and Division of Work
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#text" class="md-nav__link">
    <span class="md-ellipsis">
      Text
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Text">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#main-content-of-the-project" class="md-nav__link">
    <span class="md-ellipsis">
      Main Content of the Project
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Main Content of the Project">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#part-1-some-preparations" class="md-nav__link">
    <span class="md-ellipsis">
      Part 1: Some Preparations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#part-2-the-establishment-of-the-training-set" class="md-nav__link">
    <span class="md-ellipsis">
      Part 2: The Establishment of the Training Set
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#part-3-detecting-the-numbers" class="md-nav__link">
    <span class="md-ellipsis">
      Part 3: Detecting the Numbers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#part-4-detecting-multiple-line" class="md-nav__link">
    <span class="md-ellipsis">
      Part 4: Detecting Multiple Line
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#part-5-improving-accuracy" class="md-nav__link">
    <span class="md-ellipsis">
      Part 5: Improving Accuracy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#part-6-building-the-circuit" class="md-nav__link">
    <span class="md-ellipsis">
      Part 6: Building the Circuit
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#presentation-result-of-the-project" class="md-nav__link">
    <span class="md-ellipsis">
      Presentation &amp; Result of the Project
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#problems-encountered-and-solutions" class="md-nav__link">
    <span class="md-ellipsis">
      Problems Encountered and Solutions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Problems Encountered and Solutions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#problem-1-recognition-rate" class="md-nav__link">
    <span class="md-ellipsis">
      Problem 1: Recognition rate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#problem-2-camera-initialization" class="md-nav__link">
    <span class="md-ellipsis">
      Problem 2: Camera initialization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#problem-3-camera-preview" class="md-nav__link">
    <span class="md-ellipsis">
      Problem 3: Camera preview
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thoughts-and-inspirations" class="md-nav__link">
    <span class="md-ellipsis">
      Thoughts and Inspirations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#credits" class="md-nav__link">
    <span class="md-ellipsis">
      Credits
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/Github-Anderson/Github-Anderson.github.io/edit/main/docs/lessons/SI100B/SI100B-report.md" title="编辑此页" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  


<h1 id="si100b-report">SI100B-Report<a class="headerlink" href="#si100b-report" title="Permanent link">&para;</a></h1>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>This is a modified version from <a href="https://github.com/Github-Anderson/SI100B-Report/blob/main/README.md">SI100B-Report</a></p>
</div>
<h2 id="team-members-and-division-of-work">Team members and Division of Work<a class="headerlink" href="#team-members-and-division-of-work" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Zhangzhi Xiong</strong> (熊章智)</li>
</ul>
<p>Coding; Adjusting Parameters (Threshold and Model Related); Building Circuit</p>
<ul>
<li><strong>Tianni Yang</strong> (杨天倪)</li>
</ul>
<p>Adjusting Parameters (Accuracy Related); Building Circuit</p>
<ul>
<li><strong>Yixuan Chen</strong> (陈逸轩)</li>
</ul>
<p>Coding; Experimenting</p>
<ul>
<li><strong>Joint Work</strong></li>
</ul>
<p>Debugging; Recording ; Writing Report</p>
<h2 id="text">Text<a class="headerlink" href="#text" title="Permanent link">&para;</a></h2>
<h3 id="main-content-of-the-project">Main Content of the Project<a class="headerlink" href="#main-content-of-the-project" title="Permanent link">&para;</a></h3>
<h4 id="part-1-some-preparations">Part 1: Some Preparations<a class="headerlink" href="#part-1-some-preparations" title="Permanent link">&para;</a></h4>
<p>The Project "hand-written number recognition" is  realized through hardwares and program. As for the hardware, we use a Raspberry Pi 3B+  as the remote control and a Pi camera attached to it. As for the program, the language we use is Python, and we will use the KNN algorithm in OpenCV, which is a typical method in the field of Image Processing. Besides these two parts, to realize the interaction between the hardwares and the real world, we have to build a circuit with LED light and LED digital tube added, so as to better tell us the moment of taking photos and the result of the algorithm. </p>
<p>First of all, the most important thing is to understand how to operate the Raspberry Pi. We know that the Raspberry is a little computer with no screen or input device. As for the first stage, we will build a <strong><em>Remote Desktop</em></strong> through <strong><em>VNC</em></strong>, in order to make it easy for us to write in programs and run our codes through our own computer. This may seem to be a little bit weird, but in fact, our computer only plays the role of displayer, and the running of codes is ac in the Raspberry Pi.  </p>
<p>To realize this, we have to assign an IP to the usb interface in order to connect the Raspberry with the computer, since that this operation puts two devices into one LAN. After that, all we have to do is to open the VNC app and initiate the connection.</p>
<p>Through these operations, we can manipulate the Raspberry Pi through the remote desktop on our own computer. </p>
<p>Note that the Raspberry Pi Board and its camera is rather fragile. When assembling devices, we have to make sure the power is off. What's more, <strong><em>only after shutting down</em></strong> the board completely can we power the board off. If not so, it will do harm to the transmission of data.</p>
<p><img alt="" src="../img/VNC.png" /></p>
<h4 id="part-2-the-establishment-of-the-training-set">Part 2: The Establishment of the Training Set<a class="headerlink" href="#part-2-the-establishment-of-the-training-set" title="Permanent link">&para;</a></h4>
<p>KNN algorithm requires training data. But before that, we must know how to process our pictures. The photo taken is colorful, but this is not what we want. First, we have to change our colorful pictures into the gray one. Picture is actually a matrix, containing the RGB information of every pixel. But we don't want the RGB colors, all we want is to use a gray level value to represent the pixel. Using the algorithm in the library OpenCV, it is easy to realize this:</p>
<div class="language-python highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-0-1"><span class="n">grayImg</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">code</span><span class="p">)</span>
</span><span id="__span-0-2"><span class="c1"># code can be  `cv2.COLOR_BGR2GRAY`,</span>
</span><span id="__span-0-3"><span class="c1"># `cv2.COLOR_BGR2RGB`,`cv2.COLOR_BGR2HSV`.</span>
</span></code></pre></div></td></tr></table></div>
<p>After that, the colorful picture is converted to a <strong><em>gray scale picture</em></strong>. To use the converted picture to generate training data set, we have to provide samples which contain the picture of each digit and the attached label to tell the true answer.  To split the picture into samples like that, we use the <strong><em>numpy</em></strong> library to realize that. With labels attached, the data are finally set up, ready to be used in the KNN algorithm. </p>
<div class="language-python highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-1-1"><span class="c1"># number detected related</span>
</span><span id="__span-1-2"><span class="kn">import</span> <span class="nn">cv2</span>
</span><span id="__span-1-3"><span class="kn">import</span> <span class="nn">os</span>
</span><span id="__span-1-4"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span><span id="__span-1-5"><span class="kn">import</span> <span class="nn">math</span>
</span><span id="__span-1-6"><span class="kn">from</span> <span class="nn">lib</span> <span class="kn">import</span> <span class="n">imshow</span>
</span><span id="__span-1-7"><span class="kn">import</span> <span class="nn">random</span>
</span><span id="__span-1-8"><span class="c1"># get the project path</span>
</span><span id="__span-1-9"><span class="n">PRJ_PATH</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
</span><span id="__span-1-10"><span class="c1"># OPENCV_data.npz</span>
</span><span id="__span-1-11"><span class="n">TRAIN_DATA_NAME</span> <span class="o">=</span> <span class="s2">&quot;OPENCV_data.npz&quot;</span>
</span><span id="__span-1-12"><span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">PRJ_PATH</span><span class="o">+</span><span class="s2">&quot;/DigitsLib/digits.png&quot;</span><span class="p">)</span>
</span><span id="__span-1-13"><span class="n">grayImg</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">img</span><span class="p">,</span><span class="n">cv2</span><span class="o">.</span><span class="n">COLOR_BGR2GRAY</span><span class="p">)</span>
</span><span id="__span-1-14"><span class="n">cells</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">hsplit</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">vsplit</span><span class="p">(</span><span class="n">grayImg</span><span class="p">,</span><span class="mi">50</span><span class="p">)]</span>
</span><span id="__span-1-15"><span class="n">cells</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">cells</span><span class="p">)</span>
</span><span id="__span-1-16"><span class="c1"># Training set</span>
</span><span id="__span-1-17"><span class="n">train</span> <span class="o">=</span> <span class="n">cells</span><span class="p">[:,:]</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">400</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
</span><span id="__span-1-18"><span class="c1"># Testing set</span>
</span><span id="__span-1-19"><span class="n">test</span> <span class="o">=</span> <span class="n">cells</span><span class="p">[:,</span><span class="mi">50</span><span class="p">:</span><span class="mi">100</span><span class="p">]</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">400</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
</span><span id="__span-1-20"><span class="n">k</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="c1"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span>
</span><span id="__span-1-21"><span class="c1"># Training set</span>
</span><span id="__span-1-22"><span class="n">train_labels</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="mi">5</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)[:,</span><span class="n">np</span><span class="o">.</span><span class="n">newaxis</span><span class="p">]</span>
</span><span id="__span-1-23"><span class="c1"># Testing set</span>
</span><span id="__span-1-24"><span class="n">test_labels</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="mi">5</span> <span class="o">*</span> <span class="mi">50</span><span class="p">)[:,</span><span class="n">np</span><span class="o">.</span><span class="n">newaxis</span><span class="p">]</span>
</span><span id="__span-1-25"><span class="n">knn</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">ml</span><span class="o">.</span><span class="n">KNearest_create</span><span class="p">()</span>
</span><span id="__span-1-26"><span class="n">knn</span><span class="o">.</span><span class="n">train</span><span class="p">(</span><span class="n">train</span> <span class="p">,</span><span class="n">cv2</span><span class="o">.</span><span class="n">ml</span><span class="o">.</span><span class="n">ROW_SAMPLE</span> <span class="p">,</span> <span class="n">train_labels</span><span class="p">)</span>
</span><span id="__span-1-27"><span class="c1"># Testing the training model</span>
</span><span id="__span-1-28"><span class="n">ret</span><span class="p">,</span> <span class="n">result</span><span class="p">,</span> <span class="n">neighbors</span><span class="p">,</span> <span class="n">dist</span> <span class="o">=</span> <span class="n">knn</span><span class="o">.</span><span class="n">findNearest</span><span class="p">(</span><span class="n">test</span><span class="p">,</span><span class="n">k</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="__span-1-29"><span class="n">matches</span> <span class="o">=</span> <span class="n">result</span><span class="o">==</span><span class="n">test_labels</span>
</span><span id="__span-1-30"><span class="n">correct</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">count_nonzero</span><span class="p">(</span><span class="n">matches</span><span class="p">)</span>
</span><span id="__span-1-31"><span class="n">accuracy</span> <span class="o">=</span> <span class="n">correct</span><span class="o">/</span><span class="n">result</span><span class="o">.</span><span class="n">size</span>
</span><span id="__span-1-32"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">accuracy</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="si">:</span><span class="s2"> 0.02f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
</span><span id="__span-1-33"><span class="c1"># As for this case, when k=1, the accuracy would be 100%</span>
</span><span id="__span-1-34"><span class="c1"># When k=3, the accuracy would be 97.56%</span>
</span><span id="__span-1-35">
</span><span id="__span-1-36"><span class="c1"># Save your training model</span>
</span><span id="__span-1-37"><span class="n">fileName</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">PRJ_PATH</span><span class="p">,</span> <span class="s2">&quot;TrainingData&quot;</span><span class="p">,</span> <span class="n">TRAIN_DATA_NAME</span><span class="p">)</span>
</span><span id="__span-1-38"><span class="n">np</span><span class="o">.</span><span class="n">savez</span><span class="p">(</span><span class="n">fileName</span><span class="p">,</span> <span class="n">train</span> <span class="o">=</span> <span class="n">train</span><span class="p">,</span> <span class="n">train_labels</span> <span class="o">=</span> <span class="n">train_labels</span><span class="p">)</span>
</span></code></pre></div></td></tr></table></div>
<p>Pay special attention to the <strong><em>grammar related to Numpy</em></strong> when splitting the picture.</p>
<h4 id="part-3-detecting-the-numbers">Part 3: Detecting the Numbers<a class="headerlink" href="#part-3-detecting-the-numbers" title="Permanent link">&para;</a></h4>
<p>At first, it is abstract for us to think how can we detect and extract the number out of the paper. But after knowing how and why, we will find it quite simple.</p>
<p>First we know that the white part of a gray scale picture is actually determined by the gray level of pixels. But how might we know where is the number? We have to grasp the information of the gray level. But the key problem is that the range of the gray level is from 0 to 255. We can't simply tell which pixel belongs to the number, for the values of gray level vary from each to each. So we have to use a procedure to 'force' that the gray level of each pixel can be only either 0 or 255. To realize this, we have to use a threshold to decide whether the gray level of a pixel is going to be changed into 0 or 255. </p>
<p>Through this process, we change the gray scale picture into a <strong><em>binary</em></strong> one.</p>
<p><img alt="" src="../img/binary.png" /></p>
<p>OK. Now we have a matrix, whose elements can only be 0 or 255. What to do next is quite clear. We have to scan the matrix from left to the right, detecting where the 0 changes into 255 (type 1) and where the 255 change into 0 (type 2). Not all changes of this kind should be recorded. When the change of type 1 is detected, what we seek for should be a change of type 2. The area between the columns of the indexes recorded in pair is in fact the number! Record the indexes of the column required, and this will help us split the matrix vertically. As for the rows, we do the similar things like that, so as to correctly split the matrix horizontally. First split the whole matrix vertically, then split every unit horizontally, and we will get the number matrix we want!</p>
<p>Note that to further increase the accuracy, we make some adjustment to increase the width of  the black margin. All these functions are written in the file <strong><em>'my_function.py'</em></strong> .</p>
<div class="language-python highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-2-1"><span class="c1"># Note that we make some adjustment in the code so as to increase the margin</span>
</span><span id="__span-2-2"><span class="k">def</span> <span class="nf">image_split_column</span><span class="p">(</span><span class="n">img</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span><span class="o">-&gt;</span><span class="nb">list</span><span class="p">:</span>
</span><span id="__span-2-3">    <span class="c1"># find out the number of columns in the original image</span>
</span><span id="__span-2-4">    <span class="c1"># create a list to record the number of elements with a value of 255 in each column</span>
</span><span id="__span-2-5">    <span class="n">column</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="__span-2-6">    <span class="n">columnHist</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">column</span><span class="p">)</span>    
</span><span id="__span-2-7">    <span class="c1"># initialize the variables</span>
</span><span id="__span-2-8">    <span class="n">flag</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-2-9">    <span class="n">startList</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-2-10">    <span class="n">endList</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-2-11">    <span class="c1"># step1:</span>
</span><span id="__span-2-12">    <span class="c1"># count the number of elements with a value of 255 in each column and record it in columnHist</span>
</span><span id="__span-2-13">    <span class="c1"># record the location where the the number of 255 changes in startList and endList</span>
</span><span id="__span-2-14">    <span class="c1"># record the status with flag</span>
</span><span id="__span-2-15">    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">column</span><span class="o">-</span><span class="mi">1</span><span class="p">)):</span>
</span><span id="__span-2-16">        <span class="k">if</span> <span class="mi">255</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">img</span><span class="p">[:,</span><span class="n">i</span><span class="p">]:</span>
</span><span id="__span-2-17">            <span class="k">if</span> <span class="mi">255</span> <span class="ow">in</span> <span class="n">img</span><span class="p">[:,</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]:</span>
</span><span id="__span-2-18">                <span class="n">startList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</span><span id="__span-2-19">        <span class="k">if</span> <span class="mi">255</span> <span class="ow">in</span> <span class="n">img</span><span class="p">[:,</span><span class="n">i</span><span class="p">]:</span>
</span><span id="__span-2-20">            <span class="k">if</span> <span class="mi">255</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">img</span><span class="p">[:,</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]:</span>
</span><span id="__span-2-21">                <span class="n">endList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>               
</span><span id="__span-2-22">    <span class="c1"># step 2:</span>
</span><span id="__span-2-23">    <span class="c1"># following the startList and the endList, split the digits area from the original image.</span>
</span><span id="__span-2-24">    <span class="c1"># there maybe several areas. recorder the areas in imgList and return imgList.</span>
</span><span id="__span-2-25">    <span class="n">imgList</span> <span class="o">=</span> <span class="p">[</span><span class="n">img</span><span class="p">[:,</span><span class="n">startList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="mi">15</span><span class="p">:</span><span class="n">endList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="mi">15</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">startList</span><span class="p">))]</span>
</span><span id="__span-2-26">
</span><span id="__span-2-27">    <span class="n">ret</span> <span class="o">=</span> <span class="n">imgList</span>
</span><span id="__span-2-28">    <span class="k">return</span> <span class="n">ret</span>
</span><span id="__span-2-29">
</span><span id="__span-2-30"><span class="k">def</span> <span class="nf">image_split_row</span><span class="p">(</span><span class="n">img</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span><span class="o">-&gt;</span><span class="nb">list</span><span class="p">:</span>
</span><span id="__span-2-31">    <span class="c1"># find out the number of rows in the original image</span>
</span><span id="__span-2-32">    <span class="c1"># create a list to record the number of elements with a value of 255 in each row</span>
</span><span id="__span-2-33">    <span class="n">row</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="__span-2-34">    <span class="n">rowHist</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>    
</span><span id="__span-2-35">    <span class="c1"># initialize the variables</span>
</span><span id="__span-2-36">    <span class="n">flag</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-2-37">    <span class="n">startList</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-2-38">    <span class="n">endList</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-2-39">    <span class="c1"># step1:</span>
</span><span id="__span-2-40">    <span class="c1"># count the number of elements with a value of 255 in each row and record it in rowHist</span>
</span><span id="__span-2-41">    <span class="c1"># record the location where the the number of 255 changes in startList and endList</span>
</span><span id="__span-2-42">    <span class="c1"># record the status with flag</span>
</span><span id="__span-2-43">    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">row</span><span class="o">-</span><span class="mi">1</span><span class="p">)):</span>
</span><span id="__span-2-44">        <span class="k">if</span> <span class="mi">255</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">img</span><span class="p">[</span><span class="n">i</span><span class="p">,:]:</span>
</span><span id="__span-2-45">            <span class="k">if</span> <span class="mi">255</span> <span class="ow">in</span> <span class="n">img</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,:]:</span>
</span><span id="__span-2-46">                <span class="n">startList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</span><span id="__span-2-47">        <span class="k">if</span> <span class="mi">255</span> <span class="ow">in</span> <span class="n">img</span><span class="p">[</span><span class="n">i</span><span class="p">,:]:</span>
</span><span id="__span-2-48">            <span class="k">if</span> <span class="mi">255</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">img</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,:]:</span>
</span><span id="__span-2-49">                <span class="n">endList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>      
</span><span id="__span-2-50">    <span class="c1"># step 2:</span>
</span><span id="__span-2-51">    <span class="c1"># following the startList and the endList, split the digits area from the original image.</span>
</span><span id="__span-2-52">    <span class="c1"># there maybe several areas. recorder the areas in imgList and return imgList.    </span>
</span><span id="__span-2-53">    <span class="n">imgList</span> <span class="o">=</span> <span class="p">[</span><span class="n">img</span><span class="p">[</span><span class="n">startList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="mi">15</span><span class="p">:</span><span class="n">endList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="mi">15</span><span class="p">,:]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">startList</span><span class="p">))]</span>     
</span><span id="__span-2-54">    <span class="n">ret</span> <span class="o">=</span> <span class="n">imgList</span>
</span><span id="__span-2-55">    <span class="k">return</span> <span class="n">ret</span>
</span></code></pre></div></td></tr></table></div>
<h4 id="part-4-detecting-multiple-line">Part 4: Detecting Multiple Line<a class="headerlink" href="#part-4-detecting-multiple-line" title="Permanent link">&para;</a></h4>
<p>We have known the procedure to secure the numbers in a single line. But what about the multiple lines scenario? Actually it is quite easy. We simply split the large matrix into two parts, each containing a single line. After that, we use the function to process each line.</p>
<div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-3-1"><span class="n">rows</span> <span class="o">=</span> <span class="n">image_split_row</span><span class="p">(</span><span class="n">imgBin</span><span class="p">)</span>
</span><span id="__span-3-2"><span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">rows</span><span class="p">)):</span>
</span><span id="__span-3-3">    <span class="n">imgCol</span> <span class="o">=</span> <span class="n">image_split_column</span><span class="p">(</span><span class="n">rows</span><span class="p">[</span><span class="n">p</span><span class="p">])</span>
</span><span id="__span-3-4">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The followings are the </span><span class="si">{</span><span class="n">p</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s1">th row&#39;</span><span class="p">)</span>
</span><span id="__span-3-5">    <span class="n">imshow</span><span class="p">(</span><span class="n">rows</span><span class="p">[</span><span class="n">p</span><span class="p">])</span>
</span><span id="__span-3-6">    <span class="n">imgMonos</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-3-7">    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">imgCol</span><span class="p">)):</span>
</span><span id="__span-3-8">        <span class="n">imgMono</span> <span class="o">=</span> <span class="n">image_split_row</span><span class="p">(</span><span class="n">imgCol</span><span class="p">[</span><span class="n">col</span><span class="p">])</span>
</span><span id="__span-3-9"><span class="c1"># The following code will be shown later in the report.  </span>
</span></code></pre></div>
<h4 id="part-5-improving-accuracy">Part 5:  Improving Accuracy<a class="headerlink" href="#part-5-improving-accuracy" title="Permanent link">&para;</a></h4>
<p>This is a harsh question: How can we improve the accuracy?  In the class, teacher gave us three hints: <strong><em>the segmentation range, threshold, and the parameter value of 'k' used in the KNN algorithm</em></strong>.</p>
<p>As for the <strong><em>segmentation</em></strong>, let's take a look back at the training data set. It's not hard to find that the samples have a black margin, which means that it is not going to be a single extraction. Yes, we have to add some black margin for the number extracted manually. Here we reach the goal through defining a <strong><em>function 'imgSqua()'</em></strong>. The code is presented below.</p>
<div class="language-python highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-4-1"><span class="c1"># add black margin and change the matrix into a square one.</span>
</span><span id="__span-4-2"><span class="k">def</span> <span class="nf">imgSqua</span><span class="p">(</span><span class="n">img</span><span class="p">):</span>
</span><span id="__span-4-3">    <span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="n">col</span><span class="p">)</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span>
</span><span id="__span-4-4">    <span class="n">m</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="n">col</span><span class="p">)</span>
</span><span id="__span-4-5">    <span class="n">new_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">m</span><span class="p">,</span><span class="n">m</span><span class="p">),</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>
</span><span id="__span-4-6">    <span class="n">row_start</span> <span class="o">=</span> <span class="p">(</span><span class="n">m</span><span class="o">-</span><span class="n">row</span><span class="p">)</span><span class="o">//</span><span class="mi">2</span>
</span><span id="__span-4-7">    <span class="n">col_start</span> <span class="o">=</span> <span class="p">(</span><span class="n">m</span><span class="o">-</span><span class="n">col</span><span class="p">)</span><span class="o">//</span><span class="mi">2</span>
</span><span id="__span-4-8">    <span class="n">new_matrix</span><span class="p">[</span><span class="n">row_start</span><span class="p">:</span><span class="n">row_start</span><span class="o">+</span><span class="n">row</span><span class="p">,</span> <span class="n">col_start</span><span class="p">:</span><span class="n">col_start</span><span class="o">+</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">img</span>
</span><span id="__span-4-9">    <span class="k">return</span> <span class="n">new_matrix</span>
</span></code></pre></div></td></tr></table></div>
<p>As for the <strong><em>threshold</em></strong>, there is an important point: we have to avoid <strong><em>'noise white dots'</em></strong> (we create this term ourselves). If the threshold isn't set properly, some noise dots will turn white, bringing huge trouble to the segmentation. The situation is shown below with an example.</p>
<p><img alt="" src="../img/e1.png" /></p>
<p>So we have to pick the right threshold value. But the question is how? A fixed value can't just work fine, for the reason that when it comes to the practical use, the pictures can be taken under different light environment. So we have to use a function to calculate the "appropriate" value of the threshold. Later, we found that this value is not actually the best. Normally, we have do an additional subtraction, like minus 25 or so, to reduce the noise white dots.</p>
<div class="language-python highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-5-1"><span class="n">_threshold</span> <span class="p">,</span> <span class="n">imgBin1</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">threshold</span><span class="p">(</span><span class="n">imgGray</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">THRESH_BINARY_INV</span> <span class="o">+</span> <span class="n">cv2</span><span class="o">.</span><span class="n">THRESH_OTSU</span><span class="p">)</span>
</span><span id="__span-5-2"><span class="n">t</span> <span class="o">=</span> <span class="n">_threshold</span> <span class="o">-</span> <span class="mi">32</span>
</span><span id="__span-5-3"><span class="n">_threshold</span> <span class="p">,</span> <span class="n">imgBin</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">threshold</span><span class="p">(</span><span class="n">imgGray</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">THRESH_BINARY_INV</span><span class="p">)</span>
</span></code></pre></div></td></tr></table></div>
<p>As for the 'k' value, after various experiment, we find that 3 is the most suitable one. </p>
<h4 id="part-6-building-the-circuit">Part 6: Building the Circuit<a class="headerlink" href="#part-6-building-the-circuit" title="Permanent link">&para;</a></h4>
<p>First, we have to understand how GPIO works in Raspberry Pi. We can set the GPIO port in the python code. We can choose <strong><em>the mode of IN or OUT</em></strong>. After setting the GPIO port, we are free to set the GPIO port in <strong><em>high level voltage or low level voltage</em></strong>, enabling the electric current to flow through the circuit. </p>
<p>To set and manipulate the GPIO ports through python, we have to <strong><em>import the PRI.GPIO library</em></strong> and choose a <strong><em>set mode</em></strong>. The set mode you choose determine the coding of the ports you are going to use. Emphasize that the <strong><em>'5V' port is prohibited</em></strong>, for the probability for damaging the whole Raspberry Pi board. </p>
<p>The picture of more information related to the GPIO is presented below. </p>
<p><img alt="" src="../img/GPIO.png" /></p>
<p>After knowing what to do with the GPIO ports, we also have to learn more knowledge of the LED digital tube and the switch.  As for the switch, we have to know the inner structure of this device. The code of operation and the inner circuit is illustrated below.</p>
<p><img alt="" src="../img/Camera.png" /></p>
<p>As for the digital tube, it's more complex in comparison. After knowing the control relationship between the LED and the port, we have to establish combinations of LEDs to represent different numbers. The relationship will be presented in the code of <strong><em>'my_function.py '</em></strong> and the circuit structure of the digital tube will be shown in the following picture. </p>
<p><img alt="" src="../img/digital%20tube.png" /></p>
<div class="language-python highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-6-1"><span class="k">def</span> <span class="nf">led_display</span><span class="p">(</span><span class="n">numList</span><span class="p">:</span><span class="nb">list</span><span class="p">)</span><span class="o">-&gt;</span><span class="kc">None</span><span class="p">:</span>
</span><span id="__span-6-2">    <span class="c1"># step 1:</span>
</span><span id="__span-6-3">    <span class="c1"># Clarify the relationship between led pins and GPIO pins</span>
</span><span id="__span-6-4">    <span class="c1"># Set the GPIO pins to GPIO.OUT mode and give them the right output</span>
</span><span id="__span-6-5">    <span class="n">GPIO</span><span class="o">.</span><span class="n">setmode</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">BOARD</span><span class="p">)</span>
</span><span id="__span-6-6">    <span class="n">out_para</span> <span class="o">=</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span>   
</span><span id="__span-6-7">    <span class="c1"># step 2:</span>
</span><span id="__span-6-8">    <span class="c1"># Clarify the led composition of each number</span>
</span><span id="__span-6-9">    <span class="n">a</span> <span class="o">=</span> <span class="mi">31</span>
</span><span id="__span-6-10">    <span class="n">b</span> <span class="o">=</span> <span class="mi">29</span>
</span><span id="__span-6-11">    <span class="n">c</span> <span class="o">=</span> <span class="mi">16</span>
</span><span id="__span-6-12">    <span class="n">d</span> <span class="o">=</span> <span class="mi">13</span>
</span><span id="__span-6-13">    <span class="n">e</span> <span class="o">=</span> <span class="mi">12</span>
</span><span id="__span-6-14">    <span class="n">f</span> <span class="o">=</span> <span class="mi">35</span>
</span><span id="__span-6-15">    <span class="n">g</span> <span class="o">=</span> <span class="mi">37</span>
</span><span id="__span-6-16">    <span class="n">dp</span> <span class="o">=</span> <span class="mi">18</span>
</span><span id="__span-6-17">    <span class="n">seg</span> <span class="o">=</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">29</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">35</span><span class="p">,</span><span class="mi">37</span><span class="p">]</span>
</span><span id="__span-6-18">    <span class="k">for</span> <span class="n">segment</span> <span class="ow">in</span> <span class="n">seg</span><span class="p">:</span>
</span><span id="__span-6-19">        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">segment</span><span class="p">,</span><span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>
</span><span id="__span-6-20">        <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">segment</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</span><span id="__span-6-21">    <span class="n">num0</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,</span><span class="n">e</span><span class="p">,</span><span class="n">f</span><span class="p">]</span>
</span><span id="__span-6-22">    <span class="n">num1</span> <span class="o">=</span> <span class="p">[</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">]</span>
</span><span id="__span-6-23">    <span class="n">num2</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">e</span><span class="p">,</span><span class="n">d</span><span class="p">]</span>
</span><span id="__span-6-24">    <span class="n">num3</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">]</span>
</span><span id="__span-6-25">    <span class="n">num4</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">]</span>
</span><span id="__span-6-26">    <span class="n">num5</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span><span class="n">f</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">]</span>
</span><span id="__span-6-27">    <span class="n">num6</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span><span class="n">f</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,</span><span class="n">e</span><span class="p">]</span>
</span><span id="__span-6-28">    <span class="n">num7</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">]</span>
</span><span id="__span-6-29">    <span class="n">num8</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,</span><span class="n">e</span><span class="p">,</span><span class="n">f</span><span class="p">,</span><span class="n">g</span><span class="p">]</span>
</span><span id="__span-6-30">    <span class="n">num9</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,</span><span class="n">f</span><span class="p">,</span><span class="n">g</span><span class="p">]</span>
</span><span id="__span-6-31">    <span class="n">n_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">num0</span><span class="p">,</span><span class="n">num1</span><span class="p">,</span><span class="n">num2</span><span class="p">,</span><span class="n">num3</span><span class="p">,</span><span class="n">num4</span><span class="p">,</span><span class="n">num5</span><span class="p">,</span><span class="n">num6</span><span class="p">,</span><span class="n">num7</span><span class="p">,</span><span class="n">num8</span><span class="p">,</span><span class="n">num9</span><span class="p">]</span>     
</span><span id="__span-6-32">    <span class="c1"># step 3:</span>
</span><span id="__span-6-33">    <span class="c1"># Display the numbers in the list one by one</span>
</span><span id="__span-6-34">    <span class="c1"># Display every number for 1 second</span>
</span><span id="__span-6-35">    <span class="c1"># Wait two seconds when displaying different lines </span>
</span><span id="__span-6-36">    <span class="k">for</span> <span class="n">ele</span> <span class="ow">in</span> <span class="n">numList</span><span class="p">:</span>
</span><span id="__span-6-37">        <span class="k">for</span> <span class="n">dig</span> <span class="ow">in</span> <span class="n">n_list</span><span class="p">[</span><span class="n">ele</span><span class="p">]:</span>
</span><span id="__span-6-38">            <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">dig</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>
</span><span id="__span-6-39">        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-6-40">        <span class="k">for</span> <span class="n">dig</span> <span class="ow">in</span> <span class="n">n_list</span><span class="p">[</span><span class="n">ele</span><span class="p">]:</span>
</span><span id="__span-6-41">            <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">dig</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">)</span>
</span><span id="__span-6-42">        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-6-43">    <span class="c1"># To present mutiple results, here wait for extra two seconds.</span>
</span><span id="__span-6-44">    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="__span-6-45">    <span class="n">GPIO</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span> 
</span><span id="__span-6-46">    <span class="n">ret</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-6-47">    <span class="k">return</span> <span class="n">ret</span>
</span></code></pre></div></td></tr></table></div>
<p>Besides these two devices, we add an additional LED in combination with the switch and the camera to inform us the moment we take photos. The code <strong><em>'take_photo()'</em></strong> of taking photos, including the function of switch and LED illustration, is presented below:</p>
<p>Note that the returned result of this function is the path where the picture is saved.</p>
<div class="language-python highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-7-1"><span class="k">def</span> <span class="nf">take_photo</span><span class="p">()</span><span class="o">-&gt;</span><span class="nb">str</span><span class="p">:</span>
</span><span id="__span-7-2">    <span class="c1"># step 1: </span>
</span><span id="__span-7-3">    <span class="c1">#set a GPIO as an input channel for detecting</span>
</span><span id="__span-7-4">    <span class="n">GPIO</span><span class="o">.</span><span class="n">setmode</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">BOARD</span><span class="p">)</span>
</span><span id="__span-7-5">    <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="n">GPIO</span><span class="o">.</span><span class="n">IN</span><span class="p">,</span> <span class="n">pull_up_down</span><span class="o">=</span><span class="n">GPIO</span><span class="o">.</span><span class="n">PUD_DOWN</span><span class="p">)</span>
</span><span id="__span-7-6">    <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span><span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>                
</span><span id="__span-7-7">    <span class="c1"># step 2: </span>
</span><span id="__span-7-8">    <span class="c1"># create the camera obj and wait for a button to take a photo</span>
</span><span id="__span-7-9">    <span class="c1"># recorder the saving path</span>
</span><span id="__span-7-10">    <span class="c1"># clear the camera</span>
</span><span id="__span-7-11">    <span class="k">with</span> <span class="n">PiCamera</span><span class="p">()</span> <span class="k">as</span> <span class="n">camera</span><span class="p">:</span>             
</span><span id="__span-7-12">        <span class="n">camera</span><span class="o">.</span><span class="n">start_preview</span><span class="p">()</span>
</span><span id="__span-7-13">        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>              
</span><span id="__span-7-14">            <span class="k">if</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="__span-7-15">                <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span><span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">)</span>
</span><span id="__span-7-16">                <span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-7-17">                <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>                      
</span><span id="__span-7-18">                <span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-7-19">                <span class="n">camera</span><span class="o">.</span><span class="n">stop_preview</span><span class="p">()</span>
</span><span id="__span-7-20">                <span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;photo.jpg&#39;</span>
</span><span id="__span-7-21">                <span class="n">camera</span><span class="o">.</span><span class="n">capture</span><span class="p">(</span><span class="n">PRJ_PATH</span> <span class="o">+</span> <span class="n">filename</span><span class="p">)</span>                   
</span><span id="__span-7-22">                <span class="n">GPIO</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>
</span><span id="__span-7-23">                <span class="n">camera</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="__span-7-24">                <span class="k">break</span>
</span><span id="__span-7-25">    <span class="c1"># step3:</span>
</span><span id="__span-7-26">    <span class="c1"># return the saving path</span>
</span><span id="__span-7-27">    <span class="n">ret</span> <span class="o">=</span> <span class="n">PRJ_PATH</span> <span class="o">+</span> <span class="n">filename</span>
</span><span id="__span-7-28">    <span class="k">return</span> <span class="n">ret</span>
</span></code></pre></div></td></tr></table></div>
<p>Finally, so as to build the circuit correctly, we have know how the bread board works. The illustration is presented below:</p>
<p><img alt="" src="../img/bread%20board.png" /></p>
<p>We can see the GND line and the VCC line located on the top and the bottom (the real bread board used by us is a little different to the one in the picture). Each vertical line of fine holes is a current path. If we want the current to flow across each vertical line, we have to use a device to do the connection, like a switch or a resistor. </p>
<p>Note that resistors in the circuit are extremely important! They can protect the board from being jeopardized due to the high electric current. </p>
<h3 id="presentation-result-of-the-project">Presentation &amp; Result of the Project<a class="headerlink" href="#presentation-result-of-the-project" title="Permanent link">&para;</a></h3>
<p>Finally, we have all the code and the circuit. Time for demonstration!</p>
<p>We will present the complete code and the circuit built for our project.</p>
<p>The <strong><em>my_function.py</em></strong> is presented below: </p>
<div class="language-python highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  1</span>
<span class="normal">  2</span>
<span class="normal">  3</span>
<span class="normal">  4</span>
<span class="normal">  5</span>
<span class="normal">  6</span>
<span class="normal">  7</span>
<span class="normal">  8</span>
<span class="normal">  9</span>
<span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-8-1"><span class="c1"># General purpose</span>
</span><span id="__span-8-2"><span class="kn">import</span> <span class="nn">os</span>
</span><span id="__span-8-3"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span><span id="__span-8-4"><span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">sleep</span>
</span><span id="__span-8-5"><span class="kn">import</span> <span class="nn">time</span>
</span><span id="__span-8-6"><span class="c1"># GPIO related</span>
</span><span id="__span-8-7"><span class="kn">import</span> <span class="nn">RPi.GPIO</span> <span class="k">as</span> <span class="nn">GPIO</span>
</span><span id="__span-8-8"><span class="c1"># camera related</span>
</span><span id="__span-8-9"><span class="kn">from</span> <span class="nn">picamera</span> <span class="kn">import</span> <span class="n">PiCamera</span><span class="p">,</span> <span class="n">Color</span>
</span><span id="__span-8-10"><span class="c1"># GPIO mode: GPIO.BOARD, GPIO.BCM</span>
</span><span id="__span-8-11"><span class="n">GPIO</span><span class="o">.</span><span class="n">setmode</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">BOARD</span><span class="p">)</span>
</span><span id="__span-8-12"><span class="n">mode</span> <span class="o">=</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">getmode</span><span class="p">()</span>
</span><span id="__span-8-13"><span class="c1"># Close GPIO warning</span>
</span><span id="__span-8-14"><span class="n">GPIO</span><span class="o">.</span><span class="n">setwarnings</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="__span-8-15"><span class="c1"># get the project path</span>
</span><span id="__span-8-16"><span class="n">PRJ_PATH</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
</span><span id="__span-8-17"><span class="k">def</span> <span class="nf">image_split_column</span><span class="p">(</span><span class="n">img</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span><span class="o">-&gt;</span><span class="nb">list</span><span class="p">:</span>   
</span><span id="__span-8-18">    <span class="c1"># find out the number of columns in the original image</span>
</span><span id="__span-8-19">    <span class="c1"># create a list to record the number of elements with a value of 255 in each column</span>
</span><span id="__span-8-20">    <span class="n">column</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="__span-8-21">    <span class="n">columnHist</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">column</span><span class="p">)</span>    
</span><span id="__span-8-22">    <span class="c1"># initialize the variables</span>
</span><span id="__span-8-23">    <span class="n">flag</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-8-24">    <span class="n">startList</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-8-25">    <span class="n">endList</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-8-26">    <span class="c1"># step1:</span>
</span><span id="__span-8-27">    <span class="c1"># count the number of elements with a value of 255 in each column and record it in columnHist</span>
</span><span id="__span-8-28">    <span class="c1"># record the location where the the number of 255 changes in startList and endList</span>
</span><span id="__span-8-29">    <span class="c1"># record the status with flag</span>
</span><span id="__span-8-30">    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">column</span><span class="o">-</span><span class="mi">1</span><span class="p">)):</span>
</span><span id="__span-8-31">        <span class="k">if</span> <span class="mi">255</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">img</span><span class="p">[:,</span><span class="n">i</span><span class="p">]:</span>
</span><span id="__span-8-32">            <span class="k">if</span> <span class="mi">255</span> <span class="ow">in</span> <span class="n">img</span><span class="p">[:,</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]:</span>
</span><span id="__span-8-33">                <span class="n">startList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</span><span id="__span-8-34">        <span class="k">if</span> <span class="mi">255</span> <span class="ow">in</span> <span class="n">img</span><span class="p">[:,</span><span class="n">i</span><span class="p">]:</span>
</span><span id="__span-8-35">            <span class="k">if</span> <span class="mi">255</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">img</span><span class="p">[:,</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]:</span>
</span><span id="__span-8-36">                <span class="n">endList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>                       
</span><span id="__span-8-37">    <span class="c1"># step 2:</span>
</span><span id="__span-8-38">    <span class="c1"># following the startList and the endList, split the digits area from the original image.</span>
</span><span id="__span-8-39">    <span class="c1"># there maybe several areas. recorder the areas in imgList and return imgList.</span>
</span><span id="__span-8-40">    <span class="n">imgList</span> <span class="o">=</span> <span class="p">[</span><span class="n">img</span><span class="p">[:,</span><span class="n">startList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="mi">15</span><span class="p">:</span><span class="n">endList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="mi">15</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">startList</span><span class="p">))]</span>                            
</span><span id="__span-8-41">    <span class="n">ret</span> <span class="o">=</span> <span class="n">imgList</span>
</span><span id="__span-8-42">    <span class="k">return</span> <span class="n">ret</span>
</span><span id="__span-8-43"><span class="k">def</span> <span class="nf">image_split_row</span><span class="p">(</span><span class="n">img</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span><span class="o">-&gt;</span><span class="nb">list</span><span class="p">:</span>    
</span><span id="__span-8-44">    <span class="c1"># find out the number of rows in the original image</span>
</span><span id="__span-8-45">    <span class="c1"># create a list to record the number of elements with a value of 255 in each row</span>
</span><span id="__span-8-46">    <span class="n">row</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="__span-8-47">    <span class="n">rowHist</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>    
</span><span id="__span-8-48">    <span class="c1"># initialize the variables</span>
</span><span id="__span-8-49">    <span class="n">flag</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-8-50">    <span class="n">startList</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-8-51">    <span class="n">endList</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-8-52">    <span class="c1"># step1:</span>
</span><span id="__span-8-53">    <span class="c1"># count the number of elements with a value of 255 in each row and record it in rowHist</span>
</span><span id="__span-8-54">    <span class="c1"># record the location where the the number of 255 changes in startList and endList</span>
</span><span id="__span-8-55">    <span class="c1"># record the status with flag</span>
</span><span id="__span-8-56">    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">row</span><span class="o">-</span><span class="mi">1</span><span class="p">)):</span>
</span><span id="__span-8-57">        <span class="k">if</span> <span class="mi">255</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">img</span><span class="p">[</span><span class="n">i</span><span class="p">,:]:</span>
</span><span id="__span-8-58">            <span class="k">if</span> <span class="mi">255</span> <span class="ow">in</span> <span class="n">img</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,:]:</span>
</span><span id="__span-8-59">                <span class="n">startList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</span><span id="__span-8-60">        <span class="k">if</span> <span class="mi">255</span> <span class="ow">in</span> <span class="n">img</span><span class="p">[</span><span class="n">i</span><span class="p">,:]:</span>
</span><span id="__span-8-61">            <span class="k">if</span> <span class="mi">255</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">img</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,:]:</span>
</span><span id="__span-8-62">                <span class="n">endList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>      
</span><span id="__span-8-63">    <span class="c1"># step 2:</span>
</span><span id="__span-8-64">    <span class="c1"># following the startList and the endList, split the digits area from the original image.</span>
</span><span id="__span-8-65">    <span class="c1"># there maybe several areas. recorder the areas in imgList and return imgList.    </span>
</span><span id="__span-8-66">    <span class="n">imgList</span> <span class="o">=</span> <span class="p">[</span><span class="n">img</span><span class="p">[</span><span class="n">startList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="mi">15</span><span class="p">:</span><span class="n">endList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="mi">15</span><span class="p">,:]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">startList</span><span class="p">))]</span>      
</span><span id="__span-8-67">    <span class="n">ret</span> <span class="o">=</span> <span class="n">imgList</span>
</span><span id="__span-8-68">    <span class="k">return</span> <span class="n">ret</span>
</span><span id="__span-8-69"><span class="k">def</span> <span class="nf">led_display</span><span class="p">(</span><span class="n">numList</span><span class="p">:</span><span class="nb">list</span><span class="p">)</span><span class="o">-&gt;</span><span class="kc">None</span><span class="p">:</span>
</span><span id="__span-8-70">    <span class="c1"># step 1:</span>
</span><span id="__span-8-71">    <span class="c1"># Clarify the relationship between led pins and GPIO pins</span>
</span><span id="__span-8-72">    <span class="c1"># Set the GPIO pins to GPIO.OUT mode and give them the right output   </span>
</span><span id="__span-8-73">    <span class="n">GPIO</span><span class="o">.</span><span class="n">setmode</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">BOARD</span><span class="p">)</span>
</span><span id="__span-8-74">    <span class="n">out_para</span> <span class="o">=</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span>
</span><span id="__span-8-75">    <span class="c1"># step 2:</span>
</span><span id="__span-8-76">    <span class="c1"># Clarify the led composition of each number</span>
</span><span id="__span-8-77">    <span class="n">a</span> <span class="o">=</span> <span class="mi">31</span>
</span><span id="__span-8-78">    <span class="n">b</span> <span class="o">=</span> <span class="mi">29</span>
</span><span id="__span-8-79">    <span class="n">c</span> <span class="o">=</span> <span class="mi">16</span>
</span><span id="__span-8-80">    <span class="n">d</span> <span class="o">=</span> <span class="mi">13</span>
</span><span id="__span-8-81">    <span class="n">e</span> <span class="o">=</span> <span class="mi">12</span>
</span><span id="__span-8-82">    <span class="n">f</span> <span class="o">=</span> <span class="mi">35</span>
</span><span id="__span-8-83">    <span class="n">g</span> <span class="o">=</span> <span class="mi">37</span>
</span><span id="__span-8-84">    <span class="n">dp</span> <span class="o">=</span> <span class="mi">18</span>
</span><span id="__span-8-85">    <span class="n">seg</span> <span class="o">=</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">29</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">35</span><span class="p">,</span><span class="mi">37</span><span class="p">]</span>
</span><span id="__span-8-86">    <span class="k">for</span> <span class="n">segment</span> <span class="ow">in</span> <span class="n">seg</span><span class="p">:</span>
</span><span id="__span-8-87">        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">segment</span><span class="p">,</span><span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>
</span><span id="__span-8-88">        <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">segment</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</span><span id="__span-8-89">    <span class="n">num0</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,</span><span class="n">e</span><span class="p">,</span><span class="n">f</span><span class="p">]</span>
</span><span id="__span-8-90">    <span class="n">num1</span> <span class="o">=</span> <span class="p">[</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">]</span>
</span><span id="__span-8-91">    <span class="n">num2</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">e</span><span class="p">,</span><span class="n">d</span><span class="p">]</span>
</span><span id="__span-8-92">    <span class="n">num3</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">]</span>
</span><span id="__span-8-93">    <span class="n">num4</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">]</span>
</span><span id="__span-8-94">    <span class="n">num5</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span><span class="n">f</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">]</span>
</span><span id="__span-8-95">    <span class="n">num6</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span><span class="n">f</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,</span><span class="n">e</span><span class="p">]</span>
</span><span id="__span-8-96">    <span class="n">num7</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">]</span>
</span><span id="__span-8-97">    <span class="n">num8</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,</span><span class="n">e</span><span class="p">,</span><span class="n">f</span><span class="p">,</span><span class="n">g</span><span class="p">]</span>
</span><span id="__span-8-98">    <span class="n">num9</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,</span><span class="n">f</span><span class="p">,</span><span class="n">g</span><span class="p">]</span>
</span><span id="__span-8-99">    <span class="n">n_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">num0</span><span class="p">,</span><span class="n">num1</span><span class="p">,</span><span class="n">num2</span><span class="p">,</span><span class="n">num3</span><span class="p">,</span><span class="n">num4</span><span class="p">,</span><span class="n">num5</span><span class="p">,</span><span class="n">num6</span><span class="p">,</span><span class="n">num7</span><span class="p">,</span><span class="n">num8</span><span class="p">,</span><span class="n">num9</span><span class="p">]</span>      
</span><span id="__span-8-100">    <span class="c1"># step 3:</span>
</span><span id="__span-8-101">    <span class="c1"># Display the numbers in the list one by one</span>
</span><span id="__span-8-102">    <span class="c1"># Display every number for 1 second</span>
</span><span id="__span-8-103">    <span class="c1"># Wait two seconds when displaying different lines    </span>
</span><span id="__span-8-104">    <span class="k">for</span> <span class="n">ele</span> <span class="ow">in</span> <span class="n">numList</span><span class="p">:</span>
</span><span id="__span-8-105">        <span class="k">for</span> <span class="n">dig</span> <span class="ow">in</span> <span class="n">n_list</span><span class="p">[</span><span class="n">ele</span><span class="p">]:</span>
</span><span id="__span-8-106">            <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">dig</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>
</span><span id="__span-8-107">        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-8-108">        <span class="k">for</span> <span class="n">dig</span> <span class="ow">in</span> <span class="n">n_list</span><span class="p">[</span><span class="n">ele</span><span class="p">]:</span>
</span><span id="__span-8-109">            <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">dig</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">)</span>
</span><span id="__span-8-110">        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>    
</span><span id="__span-8-111">    <span class="n">GPIO</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span> 
</span><span id="__span-8-112">    <span class="n">ret</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-8-113">    <span class="k">return</span> <span class="n">ret</span>
</span><span id="__span-8-114"><span class="k">def</span> <span class="nf">take_photo</span><span class="p">()</span><span class="o">-&gt;</span><span class="nb">str</span><span class="p">:</span>
</span><span id="__span-8-115">    <span class="c1"># step 1: </span>
</span><span id="__span-8-116">    <span class="c1">#set a GPIO as an input channel for detecting</span>
</span><span id="__span-8-117">    <span class="n">GPIO</span><span class="o">.</span><span class="n">setmode</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">BOARD</span><span class="p">)</span>
</span><span id="__span-8-118">    <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="n">GPIO</span><span class="o">.</span><span class="n">IN</span><span class="p">,</span> <span class="n">pull_up_down</span><span class="o">=</span><span class="n">GPIO</span><span class="o">.</span><span class="n">PUD_DOWN</span><span class="p">)</span>
</span><span id="__span-8-119">    <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span><span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>
</span><span id="__span-8-120">    <span class="c1"># step 2: </span>
</span><span id="__span-8-121">    <span class="c1"># create the camera obj and wait for a button to take a photo</span>
</span><span id="__span-8-122">    <span class="c1"># recorder the saving path</span>
</span><span id="__span-8-123">    <span class="c1"># clear the camera</span>
</span><span id="__span-8-124">    <span class="k">with</span> <span class="n">PiCamera</span><span class="p">()</span> <span class="k">as</span> <span class="n">camera</span><span class="p">:</span>             
</span><span id="__span-8-125">        <span class="n">camera</span><span class="o">.</span><span class="n">start_preview</span><span class="p">()</span>
</span><span id="__span-8-126">        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>              
</span><span id="__span-8-127">            <span class="k">if</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="__span-8-128">                <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span><span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">)</span>
</span><span id="__span-8-129">                <span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-8-130">                <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>                                    
</span><span id="__span-8-131">                <span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-8-132">                <span class="n">camera</span><span class="o">.</span><span class="n">stop_preview</span><span class="p">()</span>
</span><span id="__span-8-133">                <span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;photo.jpg&#39;</span>
</span><span id="__span-8-134">                <span class="n">camera</span><span class="o">.</span><span class="n">capture</span><span class="p">(</span><span class="n">PRJ_PATH</span> <span class="o">+</span> <span class="n">filename</span><span class="p">)</span>                   
</span><span id="__span-8-135">                <span class="n">GPIO</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>
</span><span id="__span-8-136">                <span class="n">camera</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="__span-8-137">                <span class="k">break</span>
</span><span id="__span-8-138">    <span class="c1"># step3:</span>
</span><span id="__span-8-139">    <span class="c1"># return the saving path</span>
</span><span id="__span-8-140">    <span class="n">ret</span> <span class="o">=</span> <span class="n">PRJ_PATH</span> <span class="o">+</span> <span class="n">filename</span>
</span><span id="__span-8-141">    <span class="k">return</span> <span class="n">ret</span>
</span></code></pre></div></td></tr></table></div>
<p>The <strong><em>ultimate_code.ipynb</em></strong> is presented below:</p>
<div class="language-python highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-9-1"><span class="o">%</span><span class="n">load_ext</span> <span class="n">autoreload</span>
</span><span id="__span-9-2"><span class="o">%</span><span class="n">autoreload</span> <span class="mi">1</span>
</span><span id="__span-9-3"><span class="c1"># number detected related</span>
</span><span id="__span-9-4"><span class="kn">import</span> <span class="nn">cv2</span>
</span><span id="__span-9-5"><span class="kn">import</span> <span class="nn">os</span>
</span><span id="__span-9-6"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span><span id="__span-9-7"><span class="kn">import</span> <span class="nn">math</span>
</span><span id="__span-9-8"><span class="kn">from</span> <span class="nn">lib</span> <span class="kn">import</span> <span class="n">imshow</span>
</span><span id="__span-9-9"><span class="kn">import</span> <span class="nn">random</span>
</span><span id="__span-9-10">
</span><span id="__span-9-11"><span class="c1"># get the project path</span>
</span><span id="__span-9-12"><span class="n">PRJ_PATH</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
</span><span id="__span-9-13"><span class="c1"># OPENCV_data.npz</span>
</span><span id="__span-9-14"><span class="n">TRAIN_DATA_NAME</span> <span class="o">=</span> <span class="s2">&quot;OPENCV_data_Beta.npz&quot;</span>
</span><span id="__span-9-15">
</span><span id="__span-9-16"><span class="o">%</span><span class="n">aimport</span> <span class="n">my_function</span>
</span><span id="__span-9-17"><span class="kn">from</span> <span class="nn">my_function</span> <span class="kn">import</span> <span class="n">image_split_row</span><span class="p">,</span> <span class="n">image_split_column</span><span class="p">,</span> <span class="n">led_display</span><span class="p">,</span> <span class="n">take_photo</span>
</span><span id="__span-9-18"><span class="c1"># load the knn training data</span>
</span><span id="__span-9-19"><span class="c1"># load the knn training data</span>
</span><span id="__span-9-20"><span class="k">with</span> <span class="n">np</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">PRJ_PATH</span> <span class="o">+</span> <span class="s1">&#39;/TrainingData/&#39;</span> <span class="o">+</span> <span class="n">TRAIN_DATA_NAME</span><span class="p">)</span> <span class="k">as</span> <span class="n">data</span><span class="p">:</span>
</span><span id="__span-9-21">    <span class="n">train</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;train&quot;</span><span class="p">]</span>
</span><span id="__span-9-22">    <span class="n">train_labels</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;train_labels&quot;</span><span class="p">]</span>
</span><span id="__span-9-23"><span class="n">train</span> <span class="o">=</span> <span class="n">train</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
</span><span id="__span-9-24"><span class="n">train_labels</span> <span class="o">=</span> <span class="n">train_labels</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
</span><span id="__span-9-25">
</span><span id="__span-9-26"><span class="c1"># create KNN obj</span>
</span><span id="__span-9-27"><span class="n">knn</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">ml</span><span class="o">.</span><span class="n">KNearest_create</span><span class="p">()</span>
</span><span id="__span-9-28"><span class="n">knn</span><span class="o">.</span><span class="n">train</span><span class="p">(</span><span class="n">train</span><span class="p">,</span><span class="n">cv2</span><span class="o">.</span><span class="n">ml</span><span class="o">.</span><span class="n">ROW_SAMPLE</span><span class="p">,</span><span class="n">train_labels</span><span class="p">)</span>
</span><span id="__span-9-29">
</span><span id="__span-9-30"><span class="n">image</span> <span class="o">=</span> <span class="n">take_photo</span><span class="p">()</span>
</span><span id="__span-9-31"><span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>
</span><span id="__span-9-32"><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
</span><span id="__span-9-33"><span class="n">imgGray</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">img</span><span class="p">,</span><span class="n">cv2</span><span class="o">.</span><span class="n">COLOR_BGR2GRAY</span><span class="p">)</span>
</span><span id="__span-9-34"><span class="n">imshow</span><span class="p">(</span><span class="n">imgGray</span><span class="p">)</span>
</span><span id="__span-9-35"><span class="n">_threshold</span> <span class="p">,</span> <span class="n">imgBin1</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">threshold</span><span class="p">(</span><span class="n">imgGray</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">THRESH_BINARY_INV</span> <span class="o">+</span> <span class="n">cv2</span><span class="o">.</span><span class="n">THRESH_OTSU</span><span class="p">)</span>
</span><span id="__span-9-36"><span class="n">t</span> <span class="o">=</span> <span class="n">_threshold</span> <span class="o">-</span> <span class="mi">32</span>
</span><span id="__span-9-37"><span class="n">_threshold</span> <span class="p">,</span> <span class="n">imgBin</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">threshold</span><span class="p">(</span><span class="n">imgGray</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">THRESH_BINARY_INV</span><span class="p">)</span>
</span><span id="__span-9-38"><span class="n">imshow</span><span class="p">(</span><span class="n">imgBin</span><span class="p">)</span>
</span><span id="__span-9-39">
</span><span id="__span-9-40"><span class="k">def</span> <span class="nf">imgSqua</span><span class="p">(</span><span class="n">img</span><span class="p">):</span>
</span><span id="__span-9-41">    <span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="n">col</span><span class="p">)</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span>
</span><span id="__span-9-42">    <span class="n">m</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">row</span><span class="p">,</span><span class="n">col</span><span class="p">)</span>
</span><span id="__span-9-43">    <span class="n">new_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">m</span><span class="p">,</span><span class="n">m</span><span class="p">),</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>
</span><span id="__span-9-44">    <span class="n">row_start</span> <span class="o">=</span> <span class="p">(</span><span class="n">m</span><span class="o">-</span><span class="n">row</span><span class="p">)</span><span class="o">//</span><span class="mi">2</span>
</span><span id="__span-9-45">    <span class="n">col_start</span> <span class="o">=</span> <span class="p">(</span><span class="n">m</span><span class="o">-</span><span class="n">col</span><span class="p">)</span><span class="o">//</span><span class="mi">2</span>
</span><span id="__span-9-46">    <span class="n">new_matrix</span><span class="p">[</span><span class="n">row_start</span><span class="p">:</span><span class="n">row_start</span><span class="o">+</span><span class="n">row</span><span class="p">,</span> <span class="n">col_start</span><span class="p">:</span><span class="n">col_start</span><span class="o">+</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">img</span>
</span><span id="__span-9-47">    <span class="k">return</span> <span class="n">new_matrix</span>
</span><span id="__span-9-48">
</span><span id="__span-9-49">
</span><span id="__span-9-50"><span class="n">imgCol</span> <span class="o">=</span> <span class="n">my</span><span class="o">.</span><span class="n">image_split_column_new</span><span class="p">(</span><span class="n">imgBin</span><span class="p">)</span>
</span><span id="__span-9-51"><span class="n">imgMonos</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-9-52"><span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">imgCol</span><span class="p">)):</span>
</span><span id="__span-9-53">    <span class="n">imgMono</span> <span class="o">=</span> <span class="n">my</span><span class="o">.</span><span class="n">image_split_row_new</span><span class="p">(</span><span class="n">imgCol</span><span class="p">[</span><span class="n">col</span><span class="p">])</span>
</span><span id="__span-9-54">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="p">(</span><span class="n">col</span><span class="p">)</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">)</span>
</span><span id="__span-9-55">    <span class="n">imshow</span><span class="p">(</span><span class="n">imgMono</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="__span-9-56">    <span class="n">imshow</span><span class="p">(</span><span class="n">imgSqua</span><span class="p">(</span><span class="n">imgMono</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
</span><span id="__span-9-57">    <span class="n">imgMonos</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">imgSqua</span><span class="p">(</span><span class="n">imgMono</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
</span><span id="__span-9-58">
</span><span id="__span-9-59"><span class="n">resizeSize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">20</span> <span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
</span><span id="__span-9-60"><span class="n">reShapeSize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">400</span><span class="p">)</span>
</span><span id="__span-9-61"><span class="c1"># resize and reshape the image with single number</span>
</span><span id="__span-9-62"><span class="c1"># then recognize the number with knn.findNearest(imgReshape,k=?)</span>
</span><span id="__span-9-63"><span class="n">numberList</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-9-64"><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">imgMonos</span><span class="p">)):</span>
</span><span id="__span-9-65">    <span class="n">imgResize</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">imgMonos</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">resizeSize</span><span class="p">,</span><span class="n">interpolation</span><span class="o">=</span><span class="n">cv2</span><span class="o">.</span><span class="n">INTER_AREA</span><span class="p">)</span>
</span><span id="__span-9-66">    <span class="n">_</span><span class="p">,</span><span class="n">imgResize</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">threshold</span><span class="p">(</span><span class="n">imgResize</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="n">cv2</span><span class="o">.</span><span class="n">THRESH_BINARY</span><span class="p">)</span>
</span><span id="__span-9-67">    <span class="n">imgResize</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">blur</span><span class="p">(</span><span class="n">imgResize</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
</span><span id="__span-9-68">    <span class="n">_</span><span class="p">,</span><span class="n">imgResize</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">threshold</span><span class="p">(</span><span class="n">imgResize</span><span class="p">,</span><span class="mi">127</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="n">cv2</span><span class="o">.</span><span class="n">THRESH_BINARY</span><span class="p">)</span>
</span><span id="__span-9-69">    <span class="n">imshow</span><span class="p">(</span><span class="n">imgResize</span><span class="p">)</span>
</span><span id="__span-9-70">    <span class="n">imgReshape</span> <span class="o">=</span> <span class="n">imgResize</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">reShapeSize</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
</span><span id="__span-9-71">
</span><span id="__span-9-72">    <span class="n">_</span><span class="p">,</span><span class="n">result</span><span class="p">,</span><span class="n">_</span><span class="p">,</span><span class="n">_</span> <span class="o">=</span> <span class="n">knn</span><span class="o">.</span><span class="n">findNearest</span><span class="p">(</span><span class="n">imgReshape</span><span class="p">,</span><span class="n">k</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</span><span id="__span-9-73">    <span class="n">numberList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">result</span><span class="p">))</span>
</span><span id="__span-9-74"><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;th row has:&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">numberList</span><span class="p">))</span>
</span><span id="__span-9-75"><span class="n">show_list</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-9-76"><span class="n">show_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">numberList</span><span class="p">)</span>
</span><span id="__span-9-77"><span class="c1"># do the image splite and reshape</span>
</span><span id="__span-9-78"><span class="c1"># then recognize the number with knn.findNearest(imgReshape,k=?)</span>
</span><span id="__span-9-79"><span class="n">led_display</span><span class="p">(</span><span class="n">show_list</span><span class="p">)</span>
</span></code></pre></div></td></tr></table></div>
<p>The pictures of the circuit are presented below:</p>
<p><img alt="" src="../img/IMG_4266.JPG" /></p>
<p><img alt="" src="../img/IMG_4267.JPG" /></p>
<p><img alt="" src="../img/IMG_4265.JPG" /></p>
<p>The scene of demonstration:</p>
<p><img alt="" src="../img/IMG_4263.JPG" /></p>
<p>Finally, we completed our mission successfully, with the <strong><em>accuracy of 80%</em></strong>, i.e, eight correct out of ten. Though during the demonstration we have to make one adjustment to the <strong><em>threshold</em></strong> due to the <strong><em>noise white dot</em></strong>, in a whole, the demonstration was a total success. The accuracy was 80% and the digital tube presented the number correctly. We will show more details in the following pictures:</p>
<p>The picture taken is shown below:</p>
<p><img alt="" src="../img/input.png" /></p>
<p>The gray scale image is shown below:</p>
<p><img alt="" src="../img/output1.png" /></p>
<p>The binary image is shown below:</p>
<p><img alt="" src="../img/output2.png" /></p>
<p>The recognition result is shown below:</p>
<p><img alt="" src="../img/output3.png" /></p>
<p>So far, we have finished the whole project. Well Done!</p>
<h3 id="problems-encountered-and-solutions">Problems Encountered and Solutions<a class="headerlink" href="#problems-encountered-and-solutions" title="Permanent link">&para;</a></h3>
<h4 id="problem-1-recognition-rate">Problem 1: Recognition rate<a class="headerlink" href="#problem-1-recognition-rate" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Description:</strong> The initial challenge we faced was improving the recognition rate. During the first few attempts, we observed a low recognition rate of approximately <strong>30~40%</strong>, which fell far short of our target of around 90%.</p>
</li>
<li>
<p><strong>Solution:</strong> Notice that the numbers in given images are too thin to be reshaped, it leaves us to process them to match the train set. We used several methods, including cropping to retain suitable margins, adjusting binary thresholds, and applying blur filters, which are shown in the following code:</p>
</li>
</ul>
<div class="language-python highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-10-1"><span class="c1"># Applying blur filters</span>
</span><span id="__span-10-2"><span class="n">imgResize</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">blur</span><span class="p">(</span><span class="n">imgResize</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
</span><span id="__span-10-3"><span class="n">_</span><span class="p">,</span><span class="n">imgResize</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">threshold</span><span class="p">(</span><span class="n">imgResize</span><span class="p">,</span><span class="mi">127</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="n">cv2</span><span class="o">.</span><span class="n">THRESH_BINARY</span><span class="p">)</span>
</span></code></pre></div></td></tr></table></div>
<p>This process can be shown as follows:</p>
<p><img alt="" src="../img/Blur.png" /></p>
<p>In addition, we make a little adjustment to the training data as well. Mentioned that the left half of the picture used for training is actually <strong><em>a little bit too illegible</em></strong>, we only choose the right half as the training samples for <strong><em>avoiding the left half samples contaminating the training model</em></strong>. This adjustment works well, with the increase of roughly 20% in accuracy.  That's why the training model used in the <strong><em>ultimate_code.ipynb</em></strong> is <strong><em>"OPENCV_data_Beta.npz"</em></strong>.</p>
<h4 id="problem-2-camera-initialization">Problem 2: Camera initialization<a class="headerlink" href="#problem-2-camera-initialization" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Description:</strong> When attempting to initialize the newly installed camera on the Raspberry Pi, it consistently presents an <strong><em>'Failed to enable connection: Out of resources'</em></strong> error. Despite trying several solutions, the issue persists.</li>
<li><strong>Solution:</strong> We eventually diagnosed the issue by running code <code>vcgencmd get_camera</code> in the terminal, which revealed <code>supported=1 detected=0</code>, meaning that the problem stemmed from <strong><em>poor camera connections</em></strong> which can hold back the <strong><em>initialization process</em></strong>. Once we powered down and reconnected the camera, the issue was resolved.</li>
</ul>
<h4 id="problem-3-camera-preview">Problem 3: Camera preview<a class="headerlink" href="#problem-3-camera-preview" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Description:</strong> After writing the <code>camera.start_preview()</code> code, the Raspberry Pi, which should have initiated the camera preview, remained unresponsive without any error messages. Nevertheless, it executed the subsequent code without issues.</li>
<li><strong>Solution:</strong> Unfortunately, despite our best efforts, including <strong><em>disabling the VNCServer</em></strong>, the problem persisted. Consequently, we had to rely on blind navigation during the code testing phase.</li>
</ul>
<h3 id="thoughts-and-inspirations">Thoughts and Inspirations<a class="headerlink" href="#thoughts-and-inspirations" title="Permanent link">&para;</a></h3>
<p>During the program, we have gained a lot of thoughts and inspirations. Here we are going to summarize them, make some conclusions, sum up some experience and significance.</p>
<p>First of all, we learned how to deal with problems. That's a quite important skill, for the reason that in the future it is inevitable for us to encounter countless bugs and errors. But the key is: How can we find out the solutions to the bugs? We can <strong><em>surf the Internet</em></strong>, we can ask <strong><em>ChatGPT</em></strong> for help, we can search for information on the <strong><em>online forum</em></strong>, we can search for the solutions through various ways! At the same time, we have to be alert about whether the information provided on the Internet is <strong><em>valid or not</em></strong>. What's more, it is also not a bad way to <strong><em>view what you've done</em></strong>, like your code, again and again to <strong><em>debug</em></strong>, or just to simply <strong><em>abort what you've finished and start from the beginning</em></strong>. The key in common is <strong><em>patience</em></strong>.</p>
<p>Secondly, we have a deeper understanding of the connection <strong><em>between the hardware and the program</em></strong>. As a group consists of three students majoring in CS, it is not a big challenge in the coding part. But in the <strong><em>circuit and the Raspberry Pi Board part</em></strong>, stagnant is frequent and sometimes it takes a long time for us to understand how this function is realized or how this circuit works. Especially when it comes to the <strong><em>GPIO</em></strong> part, we were deeply amazed by the interaction between the code and the hardware. The moment that we finally ignite the digital tube, we were much delighted, clapping hands together. Computer Science not just deals with the algorithm or programs, it also has to do with the devices, the vessels of the program. </p>
<p>What's more, we have a deeper understanding of the Machine Learning (I don't know if this classification is appropriate or not, but this thought is intuitive). The procedure of transforming the colorful picture into a <strong><em>binary picture</em></strong>, the <strong><em>segmentation of the matrix</em></strong>, and the <strong><em>reshape of the sample matrices,</em></strong> all these operations broadened our horizon and refresh our understanding of the <strong><em>Image Processing</em></strong>. If we were asked: how to realize hand-written number recognition, we may have no idea. But after the project, we are quite confident to introduce the fundamental rationale of this project to others! See? This <strong><em>project's principles</em></strong> are in fact not that complex to understand!  Being aware of that, we can even generate our own idea, like the theory that the bad samples can contaminate the training model and the black margin matters a lot ( yes, we were aware of these points before teacher pointed them out in the class! ).</p>
<p>At last, we learn how to <strong><em>better cooperate</em></strong>. Team work is rather important. The power of individual is limited, but the power of a team will be infinite if the team is organized in order. Besides, everyone's advantages and shortcomings are different, which makes it possible to the team members to learn from other's strong points to offset one's weakness, so as to further form a more <strong><em>cohesive and resilient team</em></strong>. In the future, team work is inevitable in the field of scientific research, the skill to better collaborate with other teammates or organize the team in a good order will be rather beneficial. This unique experience won't be forgotten by each member of our team! </p>
<p>Finally, always try to <strong><em>learn new things</em></strong>, and <strong><em>learn to learn new things</em></strong> fast and clear. During the project, to fix the problem encountered, we have to learn lots of new knowledge and apply these knowledge to practical use. For example, the structure and working principle of the Raspberry Pi is highly related to <strong><em>Computer System and Structure</em></strong>, the circuit is related to the knowledge and the usage of the bread board and the electrical devices, even this pdf document is edited in <strong><em>Markdown</em></strong>, which means that we have to learn the grammar of the markdown fast. But the joy of exploration is exactly the process of meeting new stuff and learn them. Thus, it is quite a serious point that whether we can grasp the essence of the knowledge, make some connections and put them into application or not. </p>
<p>In a nut shell, we have learned so much from the project, haven't we? Sum them up and absorb the wisdom, and we will gain more experience and make more steady steps on the scientific road we have embarked on. </p>
<h3 id="credits">Credits<a class="headerlink" href="#credits" title="Permanent link">&para;</a></h3>
<p>Hereby, we would like to <strong><em>express our sincere gratitude</em></strong> to <strong><em>the teacher and the TAs</em></strong>. Without the guidance of teacher and TAs, it is impossible for us to complete the project. We really learned lots of stuff from the course, and we are grateful for the help provided by the teacher and TAs. </p>
<p>Thank you for your reading! </p>
<p>Best regards,</p>
<ul>
<li>@ZhangZhi Xiong xiongzhzh2023@shanghaitech.edu.cn</li>
<li>@TianNi Yang yangtn2023@shanghaitech.edu.cn</li>
<li>@YiXuan Chen chenyx2023@shanghaitech.edu.cn</li>
</ul>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="最后更新">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">May 9, 2024</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="创建日期">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3h-2Z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">March 5, 2024</span>
  </span>

    
    
    
  </aside>


  




  <h2 id="__comments">评论</h2>
  <script src="https://giscus.app/client.js"
        data-repo="Github-Anderson/Github-Anderson.github.io"
        data-repo-id="MDEwOlJlcG9zaXRvcnkzNjk3MjcwNTc="
        data-category="Announcements"
        data-category-id="DIC_kwDOFgmWUc4Ce_DC"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="preferred_color_scheme"
        data-lang="zh-CN"
        crossorigin="anonymous"
        async>
</script>

  <!-- Synchronize Giscus theme with palette -->
  <script>
    var giscus = document.querySelector("script[src*=giscus]")

    /* Set palette on initial load */
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "slate" ? "dark" : "light"
      giscus.setAttribute("data-theme", theme) 
    }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate" ? "dark" : "light"

          /* Instruct Giscus to change theme */
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script>

                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; Anderson_Yang
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/Github-Anderson" target="_blank" rel="noopener" title="GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://space.bilibili.com/24705427" target="_blank" rel="noopener" title="Bilibili" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M488.6 104.1c16.7 18.1 24.4 39.7 23.3 65.7v202.4c-.4 26.4-9.2 48.1-26.5 65.1-17.2 17-39.1 25.9-65.5 26.7H92.02c-26.45-.8-48.21-9.8-65.28-27.2C9.682 419.4.767 396.5 0 368.2V169.8c.767-26 9.682-47.6 26.74-65.7C43.81 87.75 65.57 78.77 92.02 78h29.38L96.05 52.19c-5.75-5.73-8.63-13-8.63-21.79 0-8.8 2.88-16.06 8.63-21.797C101.8 2.868 109.1 0 117.9 0s16.1 2.868 21.9 8.603L213.1 78h88l74.5-69.397C381.7 2.868 389.2 0 398 0c8.8 0 16.1 2.868 21.9 8.603 5.7 5.737 8.6 12.997 8.6 21.797 0 8.79-2.9 16.06-8.6 21.79L394.6 78h29.3c26.4.77 48 9.75 64.7 26.1zm-38.8 69.7c-.4-9.6-3.7-17.4-10.7-23.5-5.2-6.1-14-9.4-22.7-9.8H96.05c-9.59.4-17.45 3.7-23.58 9.8-6.14 6.1-9.4 13.9-9.78 23.5v194.4c0 9.2 3.26 17 9.78 23.5s14.38 9.8 23.58 9.8H416.4c9.2 0 17-3.3 23.3-9.8 6.3-6.5 9.7-14.3 10.1-23.5V173.8zm-264.3 42.7c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2-6.2 6.3-14 9.5-23.6 9.5-9.6 0-17.5-3.2-23.6-9.5-6.1-6.3-9.4-14-9.8-23.2v-33.3c.4-9.1 3.8-16.9 10.1-23.2 6.3-6.3 13.2-9.6 23.3-10 9.2.4 17 3.7 23.3 10zm191.5 0c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2-6.1 6.3-14 9.5-23.6 9.5-9.6 0-17.4-3.2-23.6-9.5-7-6.3-9.4-14-9.7-23.2v-33.3c.3-9.1 3.7-16.9 10-23.2 6.3-6.3 14.1-9.6 23.3-10 9.2.4 17 3.7 23.3 10z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.top", "navigation.indexes", "navigation.expand", "search.suggest", "search.highlight", "content.code.copy", "content.action.edit", "content.tooltips"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.081f42fc.min.js"></script>
      
        <script src="../../../mkdocs/javascripts/katex.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/contrib/auto-render.min.js"></script>
      
        <script src="https://utteranc.es/client.js"></script>
      
    
  </body>
</html>